<!DOCTYPE html>
<html>
<head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <style>
        .construction-container {
            width: 100%;
            height: 100vh;
            background-color: #f0f0f0;
            overflow: hidden;
        }
    </style>
</head>
<body>
    <div class="construction-container">
        <svg viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg">
            <!-- Sky Background -->
            <rect width="800" height="600" fill="#87CEEB"/>
            
            <!-- Ground -->
            <rect width="800" height="200" y="400" fill="#C2B280"/>
            
            <!-- Building Structure -->
            <g id="building">
                <rect x="400" y="100" width="200" height="400" fill="#808080" opacity="0"/>
                <rect x="420" y="120" width="40" height="60" fill="#A9A9A9" class="window" opacity="0"/>
                <rect x="480" y="120" width="40" height="60" fill="#A9A9A9" class="window" opacity="0"/>
                <rect x="540" y="120" width="40" height="60" fill="#A9A9A9" class="window" opacity="0"/>
                <!-- Scaffolding -->
                <g id="scaffolding" stroke="#4A4A4A" stroke-width="3" opacity="0">
                    <line x1="390" y1="100" x2="390" y2="500"/>
                    <line x1="610" y1="100" x2="610" y2="500"/>
                    <line x1="390" y1="150" x2="610" y2="150"/>
                    <line x1="390" y1="250" x2="610" y2="250"/>
                    <line x1="390" y1="350" x2="610" y2="350"/>
                </g>
            </g>

            <!-- Crane -->
            <g id="crane">
                <rect x="100" y="50" width="20" height="400" fill="#FFD700"/>
                <rect x="50" y="50" width="200" height="20" fill="#FFD700"/>
                <line x1="120" y1="50" x2="220" y2="100" stroke="#FFD700" stroke-width="5"/>
                <!-- Crane Cable -->
                <line id="crane-cable" x1="200" y1="70" x2="200" y2="200" stroke="#333" stroke-width="2"/>
                <!-- Steel Beam being lifted -->
                <rect id="steel-beam" x="180" y="200" width="40" height="10" fill="#A0522D"/>
            </g>

            <!-- Excavator -->
            <g id="excavator">
                <rect x="50" y="450" width="100" height="50" fill="#FFA500"/>
                <rect x="100" y="430" width="60" height="30" fill="#FFA500"/>
                <path id="excavator-arm" d="M160 460 L200 420 L220 440 L180 480 Z" fill="#FFA500"/>
                <circle cx="80" cy="500" r="20" fill="#333"/>
                <circle cx="140" cy="500" r="20" fill="#333"/>
            </g>

            <!-- Workers -->
            <g id="workers">
                <g id="worker1" transform="translate(300,450)">
                    <circle r="10" fill="#FFE4C4"/>
                    <rect x="-8" y="10" width="16" height="30" fill="#FF8C00"/>
                    <rect x="-8" y="10" width="16" height="20" fill="#FFFF00"/>
                    <rect x="-8" y="40" width="6" height="20" fill="#4169E1"/>
                    <rect x="2" y="40" width="6" height="20" fill="#4169E1"/>
                    <path d="M-10 5 Q0 -5 10 5" fill="#FFFF00"/>
                </g>
                <g id="worker2" transform="translate(500,450)">
                    <circle r="10" fill="#FFE4C4"/>
                    <rect x="-8" y="10" width="16" height="30" fill="#FF8C00"/>
                    <rect x="-8" y="10" width="16" height="20" fill="#FFFF00"/>
                    <rect x="-8" y="40" width="6" height="20" fill="#4169E1"/>
                    <rect x="2" y="40" width="6" height="20" fill="#4169E1"/>
                    <path d="M-10 5 Q0 -5 10 5" fill="#FFFF00"/>
                </g>
            </g>

            <!-- Safety Elements -->
            <g id="safety-elements">
                <path id="fence" d="M0 440 L800 440" stroke="#FFA500" stroke-width="2" stroke-dasharray="20,10"/>
                <!-- Safety Cones -->
                <g id="safety-cones">
                    <g transform="translate(250,420)">
                        <path class="cone" d="M-10 20 L10 20 L5 0 L-5 0 Z" fill="#FFA500"/>
                        <rect x="-12" y="20" width="24" height="5" fill="#FFA500"/>
                    </g>
                    <g transform="translate(350,420)">
                        <path class="cone" d="M-10 20 L10 20 L5 0 L-5 0 Z" fill="#FFA500"/>
                        <rect x="-12" y="20" width="24" height="5" fill="#FFA500"/>
                    </g>
                    <g transform="translate(450,420)">
                        <path class="cone" d="M-10 20 L10 20 L5 0 L-5 0 Z" fill="#FFA500"/>
                        <rect x="-12" y="20" width="24" height="5" fill="#FFA500"/>
                    </g>
                </g>
            </g>

            <!-- Warning Sign -->
            <g id="warning-sign" transform="translate(650,380)">
                <path d="M0,-30 L26,15 L-26,15 Z" fill="#FFFF00" stroke="#000" stroke-width="2"/>
                <text x="-7" y="10" font-size="20" font-weight="bold">!</text>
            </g>
        </svg>
    </div>

    <script>
        // Initialize GSAP timeline
        const mainTl = gsap.timeline({
            repeat: -1,
            repeatDelay: 1
        });

        // Building construction animation
        const buildingTl = gsap.timeline();
        buildingTl
            .to("#building rect", {
                opacity: 1,
                duration: 1,
                stagger: 0.2
            })
            .to("#scaffolding", {
                opacity: 1,
                duration: 1
            });

        // Crane and beam animation
        const craneTl = gsap.timeline({repeat: -1});
        craneTl
            .to("#crane-cable", {
                attr: { y2: 300 },
                duration: 2,
                ease: "power1.inOut"
            })
            .to("#steel-beam", {
                y: 300,
                duration: 2,
                ease: "power1.inOut"
            }, "<")
            .to("#crane-cable", {
                attr: { y2: 200 },
                duration: 2,
                ease: "power1.inOut"
            })
            .to("#steel-beam", {
                y: 200,
                duration: 2,
                ease: "power1.inOut"
            }, "<");

        // Excavator arm animation
        gsap.to("#excavator-arm", {
            rotate: 15,
            transformOrigin: "left center",
            duration: 1.5,
            yoyo: true,
            repeat: -1,
            ease: "power1.inOut"
        });

        // Worker animations
        gsap.to("#worker1", {
            x: "+=50",
            duration: 2,
            yoyo: true,
            repeat: -1,
            ease: "none"
        });

        gsap.to("#worker2", {
            x: "-=50",
            duration: 3,
            yoyo: true,
            repeat: -1,
            ease: "none"
        });

        // Warning sign pulse
        gsap.to("#warning-sign", {
            scale: 1.1,
            duration: 0.5,
            yoyo: true,
            repeat: -1,
            transformOrigin: "center"
        });

        // Safety cones animation
        gsap.to(".cone", {
            y: -5,
            duration: 0.5,
            stagger: {
                each: 0.2,
                repeat: -1,
                yoyo: true
            }
        });

        // Fence animation
        gsap.to("#fence", {
            strokeDashoffset: 40,
            duration: 2,
            repeat: -1,
            ease: "none"
        });

        // Add everything to main timeline
        mainTl
            .add(buildingTl)
            .add(craneTl, "-=1");

    </script>
</body>
</html>